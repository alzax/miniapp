<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Отслеживание цикла</title>
    <style>
        /* Ваши стили */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            background-color: #ffffff;
            font-family: 'Helvetica Neue', Arial, sans-serif;
            color: #333333;
        }
        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 40px 20px;
            box-sizing: border-box;
        }
        h1 {
            text-align: center;
            color: #ff6f61;
            font-size: 2em;
            margin-bottom: 30px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            font-size: 1em;
            margin-bottom: 8px;
            color: #555555;
        }
        input[type="date"],
        input[type="number"] {
            width: 100%;
            padding: 12px;
            font-size: 1em;
            border: 1px solid #dddddd;
            border-radius: 8px;
            box-sizing: border-box;
            background-color: #fafafa;
            color: #333333;
            outline: none;
        }
        input[type="date"]:focus,
        input[type="number"]:focus {
            border-color: #ff6f61;
            background-color: #ffffff;
        }
        button {
            width: 100%;
            padding: 15px;
            font-size: 1em;
            background-color: #ff6f61;
            color: #ffffff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #ff5a4d;
        }
        .result {
            margin-top: 30px;
            font-size: 1.2em;
            text-align: center;
            color: #333333;
        }
        .recommendation {
            margin-top: 20px;
            font-size: 1.2em;
            color: #333333;
            text-align: center;
        }
        .recommendation h2 {
            color: #ff6f61;
            margin-bottom: 10px;
        }
        .error-message {
            color: #ff6f61;
            margin-top: 10px;
            text-align: center;
        }
        @media (max-width: 600px) {
            .container {
                padding: 20px 15px;
            }
            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Отслеживание цикла</h1>
        <div class="form-group">
            <label for="last-period-date">Дата начала последней менструации</label>
            <input type="date" id="last-period-date">
        </div>
        <div class="form-group">
            <label for="cycle-length">Средняя продолжительность цикла (дни)</label>
            <input type="number" id="cycle-length" value="28" min="21" max="35">
        </div>
        <button id="calculate-button">Рассчитать следующий цикл</button>
        <div class="error-message" id="error-message"></div>
        <div class="result" id="result"></div>
        <div class="recommendation" id="recommendation"></div>
    </div>

    <!-- Подключение библиотеки Telegram Web Apps -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Ваш JavaScript-код -->
    <script>
        // Инициализация Web App
        let tg = window.Telegram.WebApp;
        tg.expand(); // Открыть на весь экран

        // Функция сохранения данных в localStorage
        function saveData(lastPeriodDate, cycleLength) {
            const data = {
                lastPeriodDate: lastPeriodDate,
                cycleLength: cycleLength
            };
            localStorage.setItem('cycleData', JSON.stringify(data));
        }

        // Функция загрузки данных из localStorage
        function loadData() {
            const data = JSON.parse(localStorage.getItem('cycleData'));
            if (data) {
                document.getElementById('last-period-date').value = data.lastPeriodDate;
                document.getElementById('cycle-length').value = data.cycleLength;
            }
        }

        // Вызов функции загрузки при загрузке страницы
        window.addEventListener('load', loadData);

        // Массив рекомендаций для каждого дня цикла
const recommendations = [
    "День 1: Начало менструации. Ваш организм запускает новый цикл, и вы можете ощущать усталость или болезненность. Важно уделить время отдыху и восстановлению. Попробуйте практиковать техники глубокого дыхания или медитацию, чтобы снизить уровень стресса и улучшить самочувствие. Тёплые компрессы на область живота могут помочь уменьшить спазмы. Питайтесь питательными продуктами, богатыми витаминами и минералами, такими как свежие фрукты, овощи и цельнозерновые крупы. Позвольте себе быть немного медленнее в этот день и не требуйте от себя слишком многого.",
    "День 2: Ваше тело всё ещё адаптируется к изменениям цикла. Продолжайте поддерживать себя комфортом и заботой. Тёплая ванна с добавлением эфирных масел, таких как лаванда или ромашка, может способствовать расслаблению мышц и улучшению настроения. Обратите внимание на достаточное потребление воды и избегайте обезвоживания. Лёгкие физические активности, такие как прогулка на свежем воздухе или мягкая йога, могут улучшить кровообращение и поднять настроение. Старайтесь избегать стрессовых ситуаций и уделяйте время тому, что приносит вам удовольствие.",
    "День 3: Энергия начинает постепенно возвращаться. Вы можете почувствовать себя более активной и готовой к лёгким упражнениям. Рассмотрите возможность включения растяжек или пилатеса в ваш день, чтобы укрепить мышцы и повысить гибкость. Питайтесь сбалансированно, включайте в рацион продукты, богатые железом и белком, чтобы поддержать уровень энергии. Начните планировать задачи на ближайшие дни, но помните о необходимости сохранять баланс между работой и отдыхом. Общение с близкими людьми может принести радость и дополнительную поддержку.",
    "День 4: Настроение улучшается, и вы можете заметить повышение мотивации. Это отличное время для творчества и реализации идей. Займитесь хобби, которое приносит вам удовольствие, будь то рисование, письмо или музыка. Физическая активность может быть более интенсивной — попробуйте занятия танцами или аэробикой. Обязательно продолжайте следить за питанием, включая в него свежие овощи и фрукты. Уделите время планированию и постановке целей на неделю, это поможет вам чувствовать себя более организованной и собранной.",
    "День 5: Завершение менструации. Ваше тело возвращается к обычному ритму, и вы можете почувствовать прилив энергии. Это подходящий момент для того, чтобы заняться делами, которые вы откладывали. Физические упражнения могут стать более интенсивными — попробуйте кардиотренировки или силовые упражнения. Социальная активность также будет приятна: встречайтесь с друзьями, участвуйте в групповых мероприятиях. Не забывайте о важности качественного сна для восстановления сил и поддержания здоровья.",
    "День 6: Уровень эстрогена повышается, что может улучшить вашу концентрацию и способность к обучению. Используйте этот период для освоения новых навыков или изучения интересующих вас тем. Посещение образовательных мероприятий или онлайн-курсов может быть особенно продуктивным. Физическая активность по-прежнему важна — включите в расписание утренние пробежки или посещение спортзала. Питайтесь питательно, уделяя внимание продуктам, богатым омега-3 жирными кислотами, которые поддерживают функцию мозга.",
    "День 7: Вы чувствуете себя уверенно и энергично. Это отличное время для общения и установления новых связей. Посетите социальные мероприятия, познакомьтесь с новыми людьми или восстановите старые контакты. Ваше обаяние и коммуникативные навыки на пике, что может помочь в профессиональной сфере или личной жизни. Займитесь командными видами спорта или групповой фитнес-программой, чтобы сочетать физическую активность с общением.",
    "День 8: Энергия на высоте, и вы готовы к новым вызовам. Используйте этот день для решения сложных задач, требующих концентрации и креативности. В работе вы можете добиться значительных успехов, если возьмётесь за проекты, которые ранее казались трудными. Физические нагрузки могут быть более интенсивными — попробуйте высокоинтенсивные интервальные тренировки или новые виды спорта. Не забывайте о важности сбалансированного питания для поддержания высокого уровня энергии.",
    "День 9: Ваша умственная активность и продуктивность находятся на высоком уровне. Это подходящий момент для принятия важных решений или разработки стратегических планов. Вы можете ощущать повышенную способность к аналитическому мышлению и решению проблем. Включите в свой рацион продукты, улучшающие функцию мозга, такие как орехи, ягоды и зелёные листовые овощи. Уделите время саморазвитию и профессиональному росту.",
    "День 10: Креативность и вдохновение сопровождают вас. Займитесь проектами, требующими творческого подхода, будь то работа или хобби. Вы можете открыть в себе новые таланты или усовершенствовать уже имеющиеся навыки. Физическая активность может быть направлена на гармонизацию тела и души — попробуйте йогу или медитативные практики. Общение с единомышленниками может принести дополнительную мотивацию и идеи.",
    "День 11: Социальная активность приносит радость и удовлетворение. Посвятите время друзьям и семье, организуйте совместные мероприятия или встречи. Ваше настроение позитивное, и вы можете быть источником вдохновения для окружающих. Физическая активность в группе, такая как командные виды спорта или групповые занятия фитнесом, будет особенно приятна и полезна. Не забывайте уделять внимание отдыху и восстановлению.",
    "День 12: Вы излучаете уверенность и привлекательность. Это отличное время для личных отношений и романтических встреч. Позвольте себе проявить свои чувства и эмоции, будьте открыты для новых знакомств или укрепления существующих отношений. Займитесь активностями, которые повышают самооценку и приносят удовольствие, будь то спа-процедуры, обновление гардероба или фотосессия. Физические упражнения могут включать танцы или другие формы движения, которые позволяют выразить себя.",
    "День 13: Приближается овуляция, и вы можете ощущать повышение энергии и эмоциональности. Обратите внимание на своё самочувствие и потребности. Это подходящий момент для занятий, которые приносят вам глубокое удовлетворение. Творческие проекты, путешествия или изучение новых культур могут быть особенно увлекательными. Поддерживайте баланс между активностью и отдыхом, слушайте своё тело и разум.",
    "День 14: Овуляция. В этот период возможны перепады настроения или повышенная чувствительность. Будьте терпимы к себе и окружающим. Практики осознанности, такие как медитация или ведение дневника, могут помочь разобраться с эмоциями. Уделите время спокойным занятиям: чтение, прогулки на природе, слушание успокаивающей музыки. Питайтесь питательно, включайте в рацион продукты, богатые витаминами и минералами, для поддержания общего благополучия.",
    "День 15: Начало лютеиновой фазы. Уровень энергии может немного снизиться, и вы можете почувствовать необходимость в отдыхе. Позвольте себе замедлиться и сосредоточиться на внутренних ощущениях. Займитесь йогой, пилатесом или другими мягкими формами упражнений, которые способствуют расслаблению и укреплению тела. Обратите внимание на качественный сон и создание комфортной обстановки для отдыха.",
    "День 16: Возможна лёгкая усталость или снижение мотивации. Это нормальная реакция организма. Уделите время уходу за собой: сделайте маску для лица, примите расслабляющую ванну с солью или эфирными маслами. Чтение вдохновляющих книг или просмотр мотивирующих фильмов может поднять настроение. Старайтесь избегать перегрузок и дайте себе возможность восстановить силы.",
    "День 17: Сегодня хороший день для внутреннего роста и самоанализа. Практики, такие как медитация, йога или ведение дневника, помогут углубиться в свои мысли и чувства. Вы можете открыть для себя новые аспекты личности или переосмыслить цели и приоритеты. Спокойные прогулки на природе также способствуют гармонизации внутреннего состояния. Питайтесь лёгкой и полезной пищей, чтобы поддержать организм.",
    "День 18: Сосредоточьтесь на эмоциональном благополучии. Общение с близкими людьми, которые вас поддерживают и понимают, может быть особенно ценным. Возможно, вы почувствуете потребность поделиться своими переживаниями или просто провести время в приятной компании. Займитесь творчеством в любом проявлении — рисование, музыка, кулинария — это поможет выразить эмоции и наполниться позитивом.",
    "День 19: Это подходящее время для планирования будущего и постановки новых целей. Ваше мышление может быть более ясным, и вы способны объективно оценить свои возможности и ресурсы. Составьте план действий на ближайшее время, расставьте приоритеты. Физическая активность может быть умеренной, направленной на поддержание тонуса — прогулки, плавание или лёгкие упражнения.",
    "День 20: Обратите внимание на своё питание и гидратацию. Включите в рацион свежие фрукты, овощи и достаточное количество воды. Это поможет поддержать уровень энергии и общее самочувствие. Займитесь приготовлением новых здоровых блюд, это может быть увлекательным и полезным занятием. Уделите время релаксации, например, практикуйте глубокое дыхание или слушайте успокаивающую музыку.",
    "День 21: Возможны небольшие изменения настроения или повышенная чувствительность. Будьте внимательны к своим эмоциям и не стесняйтесь обращаться за поддержкой к близким. Избегайте стрессовых ситуаций, если это возможно. Спокойные занятия, такие как чтение или просмотр любимых фильмов, помогут расслабиться. Физические нагрузки могут быть лёгкими и приятными — йога, растяжка или прогулки.",
    "День 22: Займитесь деятельностью, которая приносит вам удовольствие и успокоение. Это может быть хобби, которое вы давно не практиковали, или новое занятие, которое вы хотели попробовать. Уделите время уходу за собой, например, косметическим процедурам или массажу. Создайте уютную атмосферу дома с помощью ароматических свечей или приятной музыки.",
    "День 23: Приготовьте себе что-нибудь вкусное и питательное. Экспериментируйте с новыми рецептами, особенно если они включают полезные ингредиенты. Совместное приготовление пищи с друзьями или семьёй может стать приятным времяпрепровождением. Обратите внимание на качество и продолжительность сна, возможно, стоит лечь спать пораньше, чтобы обеспечить себе полноценный отдых.",
    "День 24: Поддерживайте общение с близкими. Разговоры по душам или совместные прогулки могут улучшить настроение и укрепить отношения. Если есть возможность, займитесь волонтёрством или помогите кому-то, это принесёт чувство удовлетворения и радости. Физическая активность может быть минимальной, главное — прислушиваться к своему телу и его потребностям.",
    "День 25: Возможна раздражительность или колебания настроения. Постарайтесь быть терпимой к себе и окружающим. Избегайте перегруженности делами, сделайте паузу, если это необходимо. Практики расслабления, такие как дыхательные упражнения или мягкая растяжка, могут помочь снизить напряжение. Уделите время тому, что приносит вам спокойствие и умиротворение.",
    "День 26: Отдыхайте и накапливайте силы. Позвольте себе ничего не делать и просто быть. Чтение любимой книги, просмотр позитивных фильмов или слушание музыки могут быть полезными. Создайте комфортную обстановку дома, возможно, с мягким освещением и удобными подушками. Питайтесь легко и полезно, избегайте тяжёлой пищи и стимулирующих напитков.",
    "День 27: Подготовьтесь к началу нового цикла. Это время для рефлексии и осознания того, что вы достигли за последний месяц. Запишите свои мысли, чувства и планы в дневник. Это поможет структурировать мысли и настроиться на предстоящие события. Лёгкая физическая активность, такая как прогулка или йога, может помочь улучшить самочувствие.",
    "День 28: Завершение цикла. Подведите итоги месяца и отметьте для себя важные моменты. Поблагодарите себя за преодоление трудностей и достижения. Планируйте следующий цикл с учётом полученного опыта. Уделите время отдыху и восстановлению, чтобы встретить новый цикл с новыми силами и позитивным настроем. Помните, что каждый цикл — это возможность для роста и развития."
];

        // Обработчик события при нажатии на кнопку
        document.getElementById('calculate-button').addEventListener('click', () => {
            const lastPeriodDate = document.getElementById('last-period-date').value;
            const cycleLength = parseInt(document.getElementById('cycle-length').value);

            const errorMessage = document.getElementById('error-message');
            if (!lastPeriodDate || !cycleLength) {
                errorMessage.innerText = 'Пожалуйста, заполните все поля.';
                return;
            } else {
                errorMessage.innerText = '';
            }

            saveData(lastPeriodDate, cycleLength);

            const lastDate = new Date(lastPeriodDate);
            const today = new Date();
            const dayDiff = Math.floor((today - lastDate) / (1000 * 60 * 60 * 24));
            const dayOfCycle = ((dayDiff % cycleLength) + cycleLength) % cycleLength + 1;

            const nextPeriodDate = new Date(lastDate.getTime() + cycleLength * 24 * 60 * 60 * 1000);

            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            const formattedDate = nextPeriodDate.toLocaleDateString('ru-RU', options);

            document.getElementById('result').innerText = `Следующая менструация ожидается: ${formattedDate}`;

            // Отображение рекомендации из массива
            const recommendationDiv = document.getElementById('recommendation');
            const recommendation = recommendations[dayOfCycle - 1] || "Нет рекомендации для данного дня.";
            recommendationDiv.innerHTML = `<h2>AI Рекомендация на сегодня</h2><p>${recommendation}</p>`;
        });
    </script>
</body>
</html>
